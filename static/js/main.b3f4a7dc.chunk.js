(this["webpackJsonppetal-react"]=this["webpackJsonppetal-react"]||[]).push([[0],{78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),c=n.n(a),o=n(135),s=n(134),i=n(46),l=n(29),u=n.n(l),h=n(42),p=n(30),j=n(43),f=n(44),b=n(47),d=n(45),v=n(124),m=n(126),y=n(128),O=n(129),g=n(130),x=n(131),S=n(82),w=n(137),k=n(136),I=n(138),C=n(133),P=n(9),D=Object(v.a)({root:{height:"100%"},media:{height:140}});function L(e){var t=D();return Object(P.jsx)(m.a,{className:t.root,children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(P.jsx)(O.a,{color:"primary",target:"_blank",rel:"noopener noreferrer",href:e.article.url.S,children:e.article.title.S})}),Object(P.jsx)(S.a,{variant:"body2",color:"textSecondary",component:"p",children:e.article.abstract.S}),Object(P.jsxs)(S.a,{style:{paddingTop:"10px"},variant:"body2",color:"textSecondary",component:"p",children:["Published in: ",e.article.venue.S]})]})})}var T=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(P.jsx)("div",{})}}]),n}(r.Component),F=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).onSelectionChange=function(e,t){r.setState({selection:t,fetchInProgress:!0},(function(){if(null!=r.state.selection){var e=function(){var e=Object(h.a)(u.a.mark((function e(t){var r,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){var e=Object(h.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&(t.sortkey=r.SortKey.S,t.partkey=r.PartitionKey.S),n.search=new URLSearchParams(t).toString(),e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=null,c=[];case 3:return e.next=5,r(t,a);case 5:o=e.sent,c=c.concat(o.Items),a=o.LastEvaluatedKey;case 8:if(a){e.next=3;break}case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=r.state.selection.id,n=new URL("https://ardwrgr7s5.execute-api.us-east-2.amazonaws.com/v1/getarticles");e({level3:t}).then((function(e){r.setState({fetchInProgress:!1}),(e=e.filter((function(e){return parseFloat(e.score.S)>.3}))).sort((function(e,t){return parseFloat(t.score.S)-parseFloat(e.score.S)})),r.setState({articlesToDisplay:e})})).catch(console.log)}else r.setState({articlesToDisplay:[],fetchInProgress:!1})}))},r.state={selection:[],functions:[],articlesToDisplay:[]},r.onSelectionChange=r.onSelectionChange.bind(Object(p.a)(r)),r}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.articlesToDisplay.map((function(e){return Object(P.jsx)(g.a,{item:!0,xs:12,children:Object(P.jsx)(L,{article:e})},e.SortKey.S)}));return Object(P.jsxs)(x.a,{maxWidth:"lg",children:[Object(P.jsxs)(w.a,{my:4,children:[Object(P.jsx)(S.a,{variant:"h4",component:"h1",gutterBottom:!0,children:"How does nature..."}),Object(P.jsx)(I.a,{id:"function",options:this.state.functions.sort((function(e,t){return-t.level2.localeCompare(e.level2)})),groupBy:function(e){return e.level2},getOptionLabel:function(e){return e.level3},style:{width:300,float:"left"},onChange:this.onSelectionChange,renderInput:function(e){return Object(P.jsx)(k.a,Object(i.a)(Object(i.a)({},e),{},{label:"",variant:"outlined"}))}}),this.state.fetchInProgress?Object(P.jsx)(C.a,{style:{float:"left",marginLeft:"20px"}}):Object(P.jsxs)("div",{style:{padding:"20px",float:"left"},children:[this.state.articlesToDisplay.length," results"]})]}),Object(P.jsx)(g.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"stretch",children:e}),Object(P.jsx)(T,{})]})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://ardwrgr7s5.execute-api.us-east-2.amazonaws.com/v1/getalllabels").then((function(e){return e.json()})).then((function(t){var n=[];t.Items.forEach((function(e){n.push({id:e.level3.S.toLowerCase().split(" ").join("_"),level2:e.level2.S,level3:e.level3.S})})),e.setState({functions:n})})).catch(console.log)}}]),n}(r.Component),U=n(55),B=Object(U.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Helvetica","Roboto","Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#9bdaf1"},secondary:{main:"#dd361c"},error:{main:"#dd361c"},type:"dark",background:{}}});c.a.render(Object(P.jsxs)(s.a,{theme:B,children:[Object(P.jsx)(o.a,{}),Object(P.jsx)(F,{})]}),document.querySelector("#root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b3f4a7dc.chunk.js.map